<div class="documentos-page">

  <div class="content-area">
    <div class="upload-container">
      <h1 class="upload-title">Cargar Documento</h1>

      <div class="upload-area"
           [class.dragover]="isDragging"
           (dragover)="onDragOver($event)"
           (dragleave)="onDragLeave($event)"
           (drop)="onDrop($event)">

        <div class="upload-icon" [class.has-file]="selectedFile">
          <div class="pdf-preview">PDF</div>

          <!-- Botón X solo si ya hay archivo -->
          <button *ngIf="selectedFile"
                  class="close-btn"
                  type="button"
                  (click)="clearFile($event)">
            ×
          </button>
        </div>

        <!-- Texto -->
        <p class="upload-text" *ngIf="!selectedFile">Arrastra y suelta tu archivo aquí</p>
        <p class="upload-text secondary" *ngIf="!selectedFile">o</p>

        <!-- Botón para seleccionar archivo -->
        <button class="select-file-btn"
                type="button"
                (click)="fileInput.click()">
          Seleccionar Archivo
        </button>

        <!-- Mostrar archivo seleccionado -->
        <p class="file-info" *ngIf="selectedFile">
          Archivo seleccionado: <strong>{{ selectedFile?.name }}</strong>
        </p>

        <!-- Input real -->
        <input #fileInput
               type="file"
               accept="application/pdf"
               (change)="onFileSelected($event)"
               style="display: none">
      </div>

      <!-- Botón verificar -->
      <button class="verify-btn"
              type="button"
              [disabled]="!selectedFile"
              (click)="verifySignature()">
        VERIFICAR FIRMA
      </button>

    </div>
  </div>

</div>

<app-verificacion-reporte
  *ngIf="mostrarModal && resultadoVerificacion"
  [resultado]="resultadoVerificacion!"
  [mostrarModal]="mostrarModal"
  (cerrar)="cerrarModal()"
  (descargar)="descargarPDF()">
</app-verificacion-reporte>


